<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="MarkBind 2.12.0">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CS2030 AY19/20 Semester 2</title>
  <link rel="stylesheet" href="../../../../markbind/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../../../markbind/css/bootstrap-vue.min.css">
  <link rel="stylesheet" href="../../../../markbind/fontawesome/css/all.min.css">
  <link rel="stylesheet" href="../../../../markbind/glyphicons/css/bootstrap-glyphicons.min.css">
  <link rel="stylesheet" href="../../../../markbind/css/octicons.css">
  <link rel="stylesheet" href="../../../../markbind/css/github.min.css">
  <link rel="stylesheet" href="../../../../markbind/css/markbind.css">
  <link rel="stylesheet" href="../../../../markbind/layouts/default/styles.css">
  <link rel="stylesheet" href="../../../../markbind/css/page-nav.css">
</head>

<body data-spy="scroll" data-target="#page-nav" data-offset="100">
  <div id="app">
    <header>
      <navbar type="dark" class="temp-navbar">
        <a slot="brand" href="/1920-s2/index.html" title="Home" class="navbar-brand">CS2030 AY19/20 Semester 2</a>
        <div class="nav-link temp-dropdown-placeholder">Peer Learning</div>
        <dropdown class="nav-link temp-dropdown"><template slot="_header">Peer Learning</template>
          <li><a href="/1920-s2/contents/peerlearning/peerlearning.html" class="dropdown-item">Introduction</a></li>
          <li><a href="/1920-s2/contents/peerlearning/textbook.html" class="dropdown-item">Textbook Contributions</a></li>
          <li><a href="/1920-s2/contents/peerlearning/peerlearningtask.html" class="dropdown-item">Peer Learning Tasks</a></li>
          <li><a href="/1920-s2/contents/peerlearning/piazza.html" class="dropdown-item">Piazza Participation</a></li>
        </dropdown>
        <div class="nav-link temp-dropdown-placeholder">Guides</div>
        <dropdown class="nav-link temp-dropdown"><template slot="_header">Guides</template>
          <li><a href="/1920-s2/contents/guides/settingUpLabEnv.html" class="dropdown-item">Setting Up Lab Environment</a></li>
          <li><a href="/1920-s2/contents/guides/settingUpJava.html" class="dropdown-item">Setting Up Java</a></li>
          <li><a href="/1920-s2/contents/guides/settingUpVim.html" class="dropdown-item">Setting Up Vim</a></li>
          <li><a href="/1920-s2/contents/guides/settingUpMacVim.html" class="dropdown-item">Setting Up MacVim</a></li>
          <li><a href="/1920-s2/contents/guides/sunfireLabs.html" class="dropdown-item">Setting Up Sunfire and PE Nodes</a></li>
          <li><a href="/1920-s2/contents/guides/settingUpCheckstyle.html" class="dropdown-item">Setting Up Checkstyle</a></li>
        </dropdown>
        <li><a slot="brand" href="/1920-s2/contents/textbook/textbook.html" class="nav-link">Textbook</a></li>
        <div class="nav-link temp-dropdown-placeholder">Links</div>
        <dropdown class="nav-link temp-dropdown"><template slot="_header">Links</template>
          <li><a href="https://www.comp.nus.edu.sg/~cs2030/style/" class="dropdown-item" target="_blank">CS2030 Java Style Guide</a></li>
          <li><a href="https://www.comp.nus.edu.sg/~cs2030/javadoc/" class="dropdown-item" target="_blank">CS2030 Javadoc Specification</a></li>
          <li><a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk11-downloads-5066655.html" class="dropdown-item" target="_blank">JDK 11 Download Link</a></li>
          <li><a href="https://codecrunch.comp.nus.edu.sg/" class="dropdown-item" target="_blank">Codecrunch</a></li>
          <li><a href="https://github.com/nus-cs2030/1920-s2" class="dropdown-item" target="_blank">Github Repo</a></li>
          <li><a href="https://piazza.com/class/k54zo22zq1t2zc" class="dropdown-item" target="_blank">Piazza Forum</a></li>
        </dropdown>
        <li slot="right">
          <form class="navbar-form">
            <searchbar :data="searchData" placeholder="Search" :on-hit="searchCallback" menu-align-right></searchbar>
          </form>
        </li>
      </navbar>
    </header>
    <div id="flex-body">
      <div id="content-wrapper">
        <br>
        <h1 id="lecture-3-summary">Lecture 3 Summary<a class="fa fa-anchor" href="#lecture-3-summary"></a></h1>
        <br>

        <p><a href="https://github.com/nus-cs2030/1920-s2/edit/master/contents/textbook/lecture03/summary/chapter-summary.md">Edit the material here! <span aria-hidden="true" class="fas fa-pen"></span></a></p>

        <h2 id="substitutability-in-object-oriented-programming">Substitutability in Object Oriented Programming<a class="fa fa-anchor" href="#substitutability-in-object-oriented-programming"></a></h2>
        <p>&quot;Composition&quot; describes a &quot;has-a&quot; relationship, while inheritance describes an &quot;is-a&quot; relationship.</p>
        <p>In jshell, the order in which you declare your Java files matters. Declare the class with no dependencies first, then move up.</p>
        <p>A misconception I had long been guilty of was cleared up. I assumed that when I did the following :</p>
        <pre><code class="hljs Java"><span>Circle c = <span class="hljs-keyword">new</span> Circle(<span class="hljs-number">2</span>);</span><span>c = <span class="hljs-keyword">new</span> FilledCircle(<span class="hljs-number">4</span>, Color.BLUE);</span></code></pre>
        <p>I would be able to call c.getColor() (which is a method declared only in the FilledCircle child and not in the Circle parent).</p>
        <p>But that's not the case. As long as the variable is declared as type Circle, it can only call its own methods and access its own properties, and cannot automatically access those of its children.</p>
        <p>A child class can substitute a parent class, but a parent class cannot substitute a child class.</p>
        <p>However, there are cases when my child class <strong>overrides</strong> a method in my parent class. Let's say that method is getMe() :</p>
        <pre><code class="hljs Java"><span>&#x200B;</span><span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Circle</span> </span>{</span><span>	<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> radius;</span><span>		Circle(<span class="hljs-keyword">double</span> radius) {</span><span>		<span class="hljs-keyword">this</span>.radius = radius;</span><span>	}</span><span>&#x200B;</span><span>	<span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">getArea</span><span class="hljs-params">()</span> </span>{</span><span>		<span class="hljs-keyword">return</span> Math.PI</span><span>		* radius</span><span>		* radius;</span><span>	}</span><span>&#x200B;</span><span>	<span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">getPerimeter</span><span class="hljs-params">()</span> </span>{</span><span>		<span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * Math.PI * radius;</span><span>	}</span><span>&#x200B;</span><span>	<span class="hljs-meta">@Override</span></span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{</span><span>		<span class="hljs-keyword">return</span> <span class="hljs-string">"circle: area "</span> + String.format(<span class="hljs-string">"%.2f"</span>, getArea()) +</span><span>		<span class="hljs-string">", perimeter "</span> + String.format(<span class="hljs-string">"%.2f"</span>, getPerimeter());</span><span>	}</span><span>&#x200B;</span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getMe</span><span class="hljs-params">()</span></span>{</span><span>		<span class="hljs-keyword">return</span> <span class="hljs-string">"I'm a Circle"</span>;</span><span>	}</span><span>}</span><span>&#x200B;</span><span>&#x200B;</span><span><span class="hljs-keyword">import</span> java.awt.Color;</span><span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FilledCircle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Circle</span> </span>{</span><span>	<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Color color;</span><span>&#x200B;</span><span>	FilledCircle(<span class="hljs-keyword">double</span> radius, Color color) {</span><span>		<span class="hljs-keyword">super</span>(radius);</span><span>		<span class="hljs-keyword">this</span>.color = color;</span><span>	}</span><span>&#x200B;</span><span>	<span class="hljs-function">Color <span class="hljs-title">getColor</span><span class="hljs-params">()</span> </span>{</span><span>		<span class="hljs-keyword">return</span> color;</span><span>	}</span><span>&#x200B;</span><span>	<span class="hljs-meta">@Override</span></span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{</span><span>		<span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.toString() + <span class="hljs-string">", "</span> + getColor();</span><span>	}</span><span>&#x200B;</span><span>	<span class="hljs-meta">@Override</span> </span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getMe</span><span class="hljs-params">()</span></span>{</span><span>		<span class="hljs-keyword">return</span> <span class="hljs-string">"I'm a Filled Circle"</span>;</span><span>	}</span><span>}</span></code></pre>
        <p>Then if I execute the following code,</p>
        <pre><code class="hljs Java"><span>Circle c = <span class="hljs-keyword">new</span> Circle(<span class="hljs-number">2</span>);</span><span>c = <span class="hljs-keyword">new</span> FilledCircle(<span class="hljs-number">4</span>, Color.BLUE);</span><span>System.out.println(c.getMe());</span></code></pre>
        <p>The system will print &quot;I'm a Filled Circle&quot;.</p>
        <hr>
        <pre><code class="hljs Java"><span>Circle c = <span class="hljs-keyword">new</span> FilledCircle(<span class="hljs-number">4</span>, Color.BLUE);</span><span>FilledCircle fc = <span class="hljs-keyword">new</span> Circle(<span class="hljs-number">4</span>);</span></code></pre>
        <p>Line 1 is allowed, but not line 2.</p>
        <p>The same concept can be demonstrated by the Java instanceof keyword.</p>
        <pre><code class="hljs Java"><span><span class="hljs-keyword">new</span> FilledCircle(<span class="hljs-number">2</span>, Color.BLUE) <span class="hljs-keyword">instanceof</span> Circle;</span><span><span class="hljs-keyword">new</span> Circle(<span class="hljs-number">2</span>) <span class="hljs-keyword">instanceof</span> FilledCircle;</span></code></pre>
        <p>The first line returns true, while the second line returns false.</p>
        <p>But what happens in the following situation? :</p>
        <pre><code class="hljs Java"><span>Circle c = <span class="hljs-keyword">new</span> FilledCircle(<span class="hljs-number">4</span>, Color.BLUE);</span><span>c <span class="hljs-keyword">instanceof</span> FilledCircle;</span></code></pre>
        <p>The code will return true.</p>
        <p>That means that even though the variable type that new FilledCircle(4, Color.BLUE) is assigned is Circle, c's &quot;core identity&quot; will always be FilledCircle.</p>
        <p>This is also the reason why type casting works the way it does :</p>
        <pre><code class="hljs Java"><span>Circle c1 = <span class="hljs-keyword">new</span> Circle(<span class="hljs-number">3</span>)</span><span>Circle c2 = <span class="hljs-keyword">new</span> FilledCircle(<span class="hljs-number">3</span>, Color.BLUE)</span><span>&#x200B;</span><span>(FilledCircle)c1</span><span>(FilledCircle)c2</span></code></pre>
        <p>The first cast returns an error, while the second cast is legal.</p>
        <p>Quote from an instructor :</p>
        <blockquote>
          <p>These objects are stored in a memory region known as the heap. In your code, these objects are assigned to a variable whose type is Circle, but that does not change the fact that the objects are FilledCircle and Circle respectively. Therefore,
            the compiler is able to check if the type casting is legal based on the objects stored in the heap memory.</p>
        </blockquote>
        <p>In more formal terms, Circle is the &quot;compile-time type&quot; of c2, while &quot;FilledCircle&quot; is the &quot;run-time type&quot; of c2</p>
        <hr>
        <p>Consider the following code :</p>
        <pre><code class="hljs Java"><span><span class="hljs-keyword">for</span> (Circle circle : circles) {</span><span>    <span class="hljs-keyword">if</span> (circle <span class="hljs-keyword">instanceof</span> FilledCircle) {</span><span>        System.out.println((FilledCircle) circle);</span><span>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (circle <span class="hljs-keyword">instanceof</span> Circle) {</span><span>        System.out.println((Circle) circle);</span><span>    }</span><span>}</span></code></pre>
        <p>A subtlety to take note of here is the order of the if statements. If the second statement checking if circle is an instance of Circle came first, it would always return true, since both FilledCircle and Circle objects are instances of Circle.</p>
        <pre><code class="hljs Java"><span><span class="hljs-keyword">for</span> (Circle circle : circles) {</span><span>    System.out.println(circle);</span><span>}</span></code></pre>
        <p>What is the difference between the first for loop and the second for loop? In the first for loop, the code makes it clear to the compiler which toString() method I want to call for each System.out.println call. This is called static binding.</p>
        <p>In the second for loop, the &quot;circle&quot; array can throw any subclass of Circle or a Circle object at the for loop; System.out.println doesn't know which version of toString() it will have to call during execution. This is called dynamic
          binding, and the beauty of it is that I can have as many subclasses of Circle I want without changing the &quot;client code&quot; which is in this case the for loop.</p>
        <p>All I need to make sure is that the method that will be dynamically called is overriden in all my child classes, like how toString() is overriden in the FilledCircle class.</p>
        <hr>
        <h2 id="type-sub-type-consistency">Type/Sub-type Consistency<a class="fa fa-anchor" href="#type-sub-type-consistency"></a></h2>
        <p>The return type of a method that overrides a parent method can only have a return type that is either the same as the return type of the parent method, or more specific.</p>
        <p>Similarly, access modifier of the method in the child class can only be equal or more public, and never more private.</p>
        <p>Side note: cleared a misconception that no access modifier defaults to public. It actually defaults to the &quot;default&quot; access modifier, meaning it is only visible to the package it is in.</p>
        <p>How about the parameter type in the overriding method? Take, for example, parent class A and child class B.</p>
        <pre><code class="hljs Java"><span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span></span>{</span><span>    <span class="hljs-function">Number <span class="hljs-title">foo</span><span class="hljs-params">(Number x)</span></span>{</span><span>        System.out.println(<span class="hljs-string">"A"</span>);</span><span>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><span>    }</span><span>}</span><span>&#x200B;</span><span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">A</span></span>{</span><span>    <span class="hljs-meta">@Override</span></span><span>    <span class="hljs-function">Number <span class="hljs-title">foo</span><span class="hljs-params">(Integer x)</span></span>{</span><span>        System.out.println(<span class="hljs-string">"B"</span>);</span><span>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><span>    }</span><span>}</span></code></pre>
        <p>This is not legal. The compiler will return an error saying that &quot;method does not override or implement a method from a supertype&quot;. What if we replace the Integer type with Object? Wouldn't it now work since Number or any of its subclasses
          can be passed into B's foo?</p>
        <p>The moment the parameter is of a different type as compared to the parent method, method overloading takes place. More specifically, the moment the number, type, or order of parameters are different, method overloading occurs.</p>
        <p>So if I remove the @Override annotation in the above code, I would be overloading the foo method in B. Take note, however, that this new implementation will not work the same as overriding.</p>
        <pre><code class="hljs Java"><span>B b = <span class="hljs-keyword">new</span> B();</span><span>b.foo(<span class="hljs-number">5</span>);</span><span>&#x200B;</span><span>A b = <span class="hljs-keyword">new</span> B();</span><span>b.foo(<span class="hljs-number">5</span>);</span></code></pre>
        <p>Here, only the first call to foo will use B's implementation of foo. The second one will use A's implementation. If foo had been properly overriden in B, and not overloaded, the second foo would also have called B's implementation.</p>
        <h2 id="polymorphism">Polymorphism<a class="fa fa-anchor" href="#polymorphism"></a></h2>
        <p>Inheritance is used to support polymorphism.</p>
        <pre><code class="hljs Java"><span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> </span>{</span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">animalSound</span><span class="hljs-params">()</span> </span>{</span><span>		System.out.println(<span class="hljs-string">"The animal makes a sound."</span>);</span><span>	}</span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">animalLegs</span><span class="hljs-params">()</span> </span>{</span><span>		System.out.println(<span class="hljs-string">"How many legs does this animal have?"</span>);</span><span>	}</span><span>}</span><span>	</span><span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>{</span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">animalSound</span><span class="hljs-params">()</span> </span>{</span><span>		System.out.println(<span class="hljs-string">"This animal woofs."</span>);</span><span>	}</span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">animalLegs</span><span class="hljs-params">()</span> </span>{</span><span>		System.out.println(<span class="hljs-string">"This animal has 4 legs."</span>);</span><span>	}</span><span>}</span><span>&#x200B;</span><span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bird</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>{</span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">animalSound</span><span class="hljs-params">()</span> </span>{</span><span>		System.out.println(<span class="hljs-string">"This animal chirps."</span>);</span><span>	}</span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">animalLegs</span><span class="hljs-params">()</span> </span>{</span><span>		System.out.println(<span class="hljs-string">"This animal has 2 legs."</span>);</span><span>	}</span><span>}</span><span>&#x200B;</span><span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Snake</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>{</span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">animalSound</span><span class="hljs-params">()</span> </span>{</span><span>		System.out.println(<span class="hljs-string">"This animal hisses."</span>);</span><span>	}</span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">animalLegs</span><span class="hljs-params">()</span> </span>{</span><span>		System.out.println(<span class="hljs-string">"This animal has no legs."</span>);</span><span>	}</span><span>}</span><span>&#x200B;</span><span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainAnimal</span> </span>{</span><span>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{</span><span>		Animal animal = <span class="hljs-keyword">new</span> Animal();</span><span>		Animal dog = <span class="hljs-keyword">new</span> Dog();</span><span>		Animal bird = <span class="hljs-keyword">new</span> Bird();</span><span>		Animal snake = <span class="hljs-keyword">new</span> Snake();</span><span>	</span><span>		animal.animalSound();</span><span>		dog.animalSound();</span><span>		bird.animalSound();</span><span>		snake.animalSound();</span><span>	</span><span>		animal.animalLegs();</span><span>		dog.animalLegs();</span><span>		bird.animalLegs();</span><span>		snake.animalLegs();</span><span>	}</span><span>}</span></code></pre>
        <p>This is the beauty of polymorphism - during compile time, animal variable is of type Animal, in runtime it is of type Dog (this transition from animal to dog is part of polymorphism). Imagine if polymorphism doesn't exist, you have to create multiple
          overloaded animalSound() and animalLegs() methods to take in different animals such as animalSound(Dog d), animalSound(Bird b).</p>
      </div>
      <nav id="page-nav" class="navbar navbar-light bg-transparent">
        <div class="border-left-grey nav-inner position-sticky slim-scroll">

          <nav class="nav nav-pills flex-column my-0 small no-flex-wrap">
            <a class="nav-link py-1" href="#lecture-3-summary">Lecture 3 Summary&#x200E;</a>
            <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap">
              <a class="nav-link py-1" href="#substitutability-in-object-oriented-programming">Substitutability in Object Oriented Programming&#x200E;</a>
              <a class="nav-link py-1" href="#type-sub-type-consistency">Type/Sub-type Consistency&#x200E;</a>
              <a class="nav-link py-1" href="#polymorphism">Polymorphism&#x200E;</a>
            </nav>

          </nav>
        </div>
      </nav>
    </div>
    <footer>

      <div class="text-center">
        <small>Generated by <a href="https://markbind.org/">MarkBind 2.12.0</a> on Mon, Mar 23, 2020, 4:38:50 PM UTC</small></div>
    </footer>
  </div>
</body>
<script src="../../../../markbind/js/vue.min.js"></script>
<script src="../../../../markbind/js/vue-strap.min.js"></script>
<script src="../../../../markbind/js/bootstrap-utility.min.js"></script>
<script src="../../../../markbind/js/polyfill.min.js"></script>
<script src="../../../../markbind/js/bootstrap-vue.min.js"></script>
<script>
  const baseUrl = '/1920-s2'
  const enableSearch = true
</script>
<script src="../../../../markbind/js/setup.js"></script>
<script src="../../../../markbind/layouts/default/scripts.js"></script>

</html>